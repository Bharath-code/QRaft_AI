Here are the updated Markdown (.md) files, fully adapted for Next.js 15 (App Router).

I have updated the folder structures, file extensions (e.g., page.tsx, route.ts), and logic flows (e.g., Server Actions instead of Form Actions) to match the Next.js ecosystem.

You can copy these directly or use the Python script at the bottom to zip them.

File 1: Product Requirements Document (PRD)
Filename: 01_PRD.md

Markdown

# Product Requirements Document (PRD): QRaft.ai
**Version:** 1.0 (MVP Launch - Next.js Edition)
**Status:** Ready for Development

## 1. Executive Summary
**QRaft.ai** is a Generative AI platform that transforms standard, ugly QR codes into scannable digital art.
* **Core Value:** Turning a utility into a "Flex" (Identity) and a "Tool" (Career ROI).
* **Strategy:** "Hybrid Cashflow" — High volume viral sales from Students (B2C) funds the High margin sales from Professionals.

## 2. Target Personas
### A. "The Campus Flexer" (Student)
* **Motivation:** Social Status, Flirting, Gaming aesthetics.
* **Key Feature:** "Tea Box" (Anonymous Messages), WhatsApp Direct.
* **Buying Power:** ₹19 - ₹149 (UPI).

### B. "The Anxious Job Seeker" (Professional)
* **Motivation:** Getting hired, Fear of being ignored.
* **Key Feature:** "Recruiter Radar" (Real-time scan alerts).
* **Buying Power:** ₹999 (One-time Lifetime Deal).

## 3. Functional Requirements

### 3.1 Core Engine
* **GEN-01:** Text-to-QR using Replicate API (Flux Schnell).
* **GEN-02:** High Error Correction (Level H) mandatory.
* **GEN-03:** Watermarking logic ("⚡ by QRaft") for unpaid tiers.

### 3.2 Student Features (The Viral Loop)
* **STU-01 Tea Box:** Anonymous message form + Inbox view.
* **STU-02 WhatsApp Direct:** Input Number -> Output `wa.me` link.
* **STU-03 Story Mode Bio:** Mobile-only landing page (Dark mode, 3 links).
* **STU-04 PDF Sticker Sheet:** Auto-generate A4 PDF with 12 tiled stickers.

### 3.3 Professional Features (The Revenue Engine)
* **PRO-01 Redirect System:** Shortlinks (`qraft.ai/r/xyz`) to track scans.
* **PRO-02 Recruiter Radar:** Trigger email via Resend API on scan.
* **PRO-03 Bot Filter:** Ignore crawlers (Googlebot, Slackbot) to prevent false alerts.
* **PRO-04 LinkedIn Deep-Link:** Force open LinkedIn App on mobile.

## 4. Technical Stack (Next.js)
* **Framework:** Next.js 15 (App Router).
* **Database:** Supabase (PostgreSQL).
* **Storage:** Supabase Storage.
* **Auth:** Supabase Auth (SSR).
* **Styling:** Tailwind CSS.

## 5. Success Metrics (KPIs)
1.  **Virality:** >1.2 K-Factor.
2.  **Conversion:** >3% Free to Paid.
3.  **Latency:** Redirect speed <200ms (Critical).
File 2: Technical Architecture
Filename: 02_Technical_Architecture.md

Markdown

# Technical Architecture (Next.js Edition)

## 1. Stack
* **Framework:** Next.js 15 (App Router)
* **Language:** TypeScript
* **Styling:** Tailwind CSS + Shadcn/UI
* **Database:** Supabase (PostgreSQL)
* **Auth:** Supabase Auth (SSR Helpers)
* **AI Inference:** Replicate API
* **Email:** Resend API
* **Payments:** Razorpay (India) / Lemon Squeezy (Global)

## 2. Database Schema (Supabase SQL)

```sql
-- Users and Credits
create table profiles (
  id uuid references auth.users on delete cascade,
  email text,
  credits int default 0,
  is_pro boolean default false
);

-- The Links (Redirects)
create table dynamic_links (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references auth.users(id),
  short_code text unique not null,
  destination_url text not null,
  active boolean default true,
  created_at timestamp with time zone default now()
);

-- Analytics & Radar
create table scan_events (
  id bigint generated by default as identity primary key,
  link_id uuid references dynamic_links(id),
  city text,
  country text,
  device_type text,
  user_agent text,
  is_bot boolean default false,
  scanned_at timestamp with time zone default now()
);

-- Anonymous Messages (Tea Box)
create table messages (
  id uuid default gen_random_uuid() primary key,
  recipient_id uuid references auth.users(id),
  content text not null,
  sender_meta jsonb,
  created_at timestamp default now()
);
3. Key Logic Flows (Next.js Implementation)
A. The "Recruiter Radar" Logic (Route Handler)
File: app/r/[code]/route.ts

Type: API Route (Server-side only)

GET Request: Receive scan request.

Bot Check: Check request.headers.get('user-agent'). If Bot -> Redirect immediately using NextResponse.redirect.

Logging: If Human -> Log to scan_events (Async - do not await if using Vercel Functions, or use Inngest).

Notification: Check profiles.is_pro. If True -> Trigger Resend Email.

Redirect: Return NextResponse.redirect(destination_url, 302).

B. The "Tea Box" Logic (Server Actions)
File: app/tea/[userId]/page.tsx

Type: React Server Component

Component: Renders the form.

Action: Form submits to a Server Action (sendMessage(formData)).

Logic: Inside action, validate input -> Insert into messages table via Supabase Server Client -> revalidatePath('/tea/' + userId).

UI Feedback: Use useFormStatus hook to show "Sending..." state.
